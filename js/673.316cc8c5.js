"use strict";(self["webpackChunkvue_blog_manager"]=self["webpackChunkvue_blog_manager"]||[]).push([[673],{7673:function(e,r,s){s.r(r),s.d(r,{default:function(){return k}});var a=s(6768),o=s(5130);const t={class:"register-container w-full h-[100vh] bg-neutral-300 flex justify-center items-center"},n={class:"formcontainer bg-neutral-100 flex flex-col items-start w-full max-w-[90%] md:max-w-[480px] rounded-[10px]"},l={class:"link-container flex gap-x-[8px] pt-[12px] justify-center"};function i(e,r,s,i,u,p){const m=(0,a.g2)("app-form-field"),d=(0,a.g2)("app-button"),c=(0,a.g2)("app-link-button");return(0,a.uX)(),(0,a.CE)("div",t,[(0,a.Lk)("div",n,[r[7]||(r[7]=(0,a.Lk)("h2",{class:"text-[18px] font-semibold px-[24px] py-[38px]"},"Sign up",-1)),(0,a.Lk)("form",{class:"w-full p-[24px] border-t",onSubmit:r[3]||(r[3]=(0,o.D$)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,a.bF)(m,{id:"username",label:"Username",error:i.errors.username},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.Lk)("input",{type:"text",id:"username",placeholder:"sample text","onUpdate:modelValue":r[0]||(r[0]=e=>i.form.username=e)},null,512),[[o.Jo,i.form.username]])])),_:1},8,["error"]),(0,a.bF)(m,{id:"email",label:"Email",error:i.errors.email},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.Lk)("input",{type:"email",id:"email",placeholder:"sample text","onUpdate:modelValue":r[1]||(r[1]=e=>i.form.email=e)},null,512),[[o.Jo,i.form.email]])])),_:1},8,["error"]),(0,a.bF)(m,{id:"password",label:"Password",error:i.errors.password},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.Lk)("input",{type:"password",id:"password",placeholder:"sample text","onUpdate:modelValue":r[2]||(r[2]=e=>i.form.password=e)},null,512),[[o.Jo,i.form.password]])])),_:1},8,["error"]),(0,a.bF)(d,{class:"mt-[24px]",loading:i.isLoading},{default:(0,a.k6)((()=>r[4]||(r[4]=[(0,a.eW)(" Sign up ")]))),_:1,__:[4]},8,["loading"]),(0,a.Lk)("div",l,[r[6]||(r[6]=(0,a.Lk)("p",{class:"text-[14px] font-normal"},"Have an account?",-1)),(0,a.bF)(c,{class:"inline text-[14px] font-semibold",path:"/login"},{default:(0,a.k6)((()=>r[5]||(r[5]=[(0,a.eW)(" Sign in ")]))),_:1,__:[5]})])],32)])])}var u=s(144),p=s(1387),m=s(782),d=s(4084),c=s(1394),f=s(857),b=s(4027),w={name:"app-register-view",components:{AppFormField:f.A,AppButton:c.A,AppLinkButton:b.A},setup(){const{appContext:e}=(0,a.nI)(),r=e.config.globalProperties.$http,s=(0,m.Pj)(),o=(0,p.rd)(),t=(0,u.KR)(!1),n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,l=(0,u.Kh)({username:"",email:"",password:""}),i=(0,u.Kh)({username:"",email:"",password:""}),c=()=>{let e=!0;return i.username="",i.email="",i.password="",l.username||(i.username="Username is required!",e=!1),l.email||(i.email="Email is required!",e=!1),n.test(l.email)||(i.email="Please enter a valid email address",e=!1),l.password||(i.password="Password is required!",e=!1),e};async function f(e){try{const s=await r.post("/users",{user:e});return{success:!0,data:s.data}}catch(s){if(s.response)return{success:!1,errors:s.response.data.errors||{}};throw new Error("Network error occurred")}}async function b(){if(c()){t.value=!0;try{const e=await f(l);if(e.success){const{user:r}=e.data;s.commit("setUser",r),d.oR.success(`Welcome ${r.username}`),o.replace("/articles")}else d.oR.error("Email or Password is Invalid"),Object.assign(i,e.errors)}catch(e){console.error("Registration failed:",e.message)}finally{t.value=!1}}}return{form:l,errors:i,isLoading:t,submitForm:b}}},x=s(1241);const g=(0,x.A)(w,[["render",i]]);var k=g}}]);
//# sourceMappingURL=673.316cc8c5.js.map